{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/functions/SaveJSONToFile.js","audio/patterns-no-7.ogg","audio/patterns-no-7.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","SaveJSONToFile","jsonData","filename","fileData","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","download","href","click","P5SketchWithAudio","sketchRef","useRef","Sketch","p","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","loadMidi","Midi","fromUrl","midi","then","result","console","log","noteSet1","tracks","notes","scheduleCueSet","getElementById","classList","add","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","i","length","note","ticks","time","addCue","setup","createCanvas","background","colorMode","HSB","noLoop","cells","require","draw","translate","isPlaying","executeCueSet1","duration","colourScheme","saturation","random","brightness","loopsPerBar","size","delay","baseHue","push","clear","cellPattern","colour","color","setTimeout","filter","rect","loopIndex","forEach","x","y","noStroke","stroke","strokeWeight","line","noFill","circle","arc","PI","generateCells","key","some","r","hasStarted","mousePressed","pause","parseInt","currentTime","buffer","reset","dataLayer","title","location","addClass","play","creditsLogged","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d463b859.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","function SaveJSONToFile(jsonData, filename = 'json') {\n    const fileData = JSON.stringify(jsonData);\n    const blob = new Blob([fileData], {type: \"text/plain\"});\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.download = `${filename}.json`;\n    link.href = url;\n    link.click();\n}\n\nexport default SaveJSONToFile;\n","export default __webpack_public_path__ + \"static/media/patterns-no-7.af19f6a7.ogg\";","export default __webpack_public_path__ + \"static/media/patterns-no-7.a4d4b4e7.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport SaveJSONToFile from './functions/SaveJSONToFile.js';\n\nimport audio from \"../audio/patterns-no-7.ogg\";\nimport midi from \"../audio/patterns-no-7.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    console.log(result);\n                    const noteSet1 = result.tracks[1].notes;\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.background(0);\n            p.colorMode(p.HSB);\n            p.noLoop();\n            // p.generateCells();\n            p.cells = require('../json/grid-64x64.json');\n        }\n\n        p.draw = () => {\n            p.translate(p.width / 2, p.height / 2);\n            if(p.audioLoaded && p.song.isPlaying()){\n\n            }\n        }\n\n\n        p.executeCueSet1 = (note) => {\n            const { duration } = note,\n                \n                colourScheme = [],\n                saturation = p.random(50, 100),\n                brightness = p.random(50, 100),\n                loopsPerBar = p.random([12, 24, 36, 48]),\n                size = p.width / (loopsPerBar * 2),\n                delay = (duration * 1000) / loopsPerBar;\n\n            let baseHue = p.random(0, 360);\n            for (let i = 0; i < 9; i++) {\n                colourScheme.push(\n                    baseHue\n                );\n                baseHue = baseHue + 45 > 360 ? baseHue - 235 : baseHue + 45;\n            }\n            \n            p.clear();\n            \n            // p.background(baseHue, saturation, brightness);\n            p.background(0);\n            \n\n            for (let i = 1; i <= loopsPerBar; i++) {\n                const cellPattern = p.random(['cross', 'lines','circle','split-circles']),\n                    colour = p.color(\n                        colourScheme[i % 10], saturation, brightness\n                    ),\n                    inverseHue = colourScheme[i % 10] + 180 > 360 ? colourScheme[i % 10] - 180 : colourScheme[i % 10] + 180;\n\n                setTimeout(\n                    function () {\n                        p.cells.filter(rect => rect.loopIndex === i).forEach(rect => {\n                            const { x, y, loopIndex } = rect;\n                            p.fill(colour);\n                            p.noStroke();\n                            p.rect(size * x, size * y, size, size);\n\n                            p.stroke(0, 0, 100);\n                            // p.stroke(inverseHue, saturation, brightness);\n                            p.strokeWeight(2);\n                            if(cellPattern === 'cross') {\n                                p.line(size * x, size * y, size * x + size, size * y + size);\n                                p.line(size * x + size, size * y, size * x, size * y + size);\n                            }\n                            \n                            if(cellPattern === 'plus') {\n                                p.line(size * x + size / 2, size * y, size * x + size / 2, size * y + size);\n                                p.line(size * x + size, size * y  + size / 2, size * x, size * y +  + size / 2);\n                            }\n\n                            if(cellPattern === 'lines') {\n                                if(y === -loopIndex && x === -loopIndex) {\n                                    //hori\n                                    p.line(size * x, size * y + size, size * x + size, size * y + size);\n                                    //vert\n                                    p.line(size * x + size, size * y, size * x + size, size * y + size);\n                                }\n                                else if(y === (loopIndex - 1) && x === -loopIndex) {\n                                    //hori\n                                    p.line(size * x, size * y, size * x + size, size * y);\n                                    //vert\n                                    p.line(size * x + size, size * y, size * x + size, size * y + size);\n                                } \n                                else if(y === -loopIndex && x === (loopIndex - 1)) {\n                                    //hori\n                                    p.line(size * x, size * y + size, size * x + size, size * y + size);\n                                    //vert\n                                    p.line(size * x, size * y, size * x, size * y + size);\n                                } \n                                else if(y === (loopIndex - 1) && x === (loopIndex - 1)) {\n                                    //hori\n                                    p.line(size * x, size * y, size * x + size, size * y);\n                                    //vert\n                                    p.line(size * x, size * y, size * x, size * y + size);\n                                } \n                                else if(y === -loopIndex || y === (loopIndex-1)) {\n                                    //vert\n                                    p.line(size * x, size * y, size * x, size * y + size);\n                                    p.line(size * x + size, size * y, size * x + size, size * y + size);\n                                }\n                                else {\n                                    //hori\n                                    p.line(size * x, size * y, size * x + size, size * y);\n                                    p.line(size * x, size * y + size, size * x + size, size * y + size);\n                                }\n                            }\n\n                            if(cellPattern === 'circle') {\n                                p.noFill();\n                                p.line(size * x, size * y, size * x + size / 2, size * y + size / 4);\n                                p.line(size * x + size, size * y, size * x + size / 2, size * y +  size / 4);\n                                p.circle(size * x + size / 2, size * y + size / 2, size / 2, size / 2);\n                                p.line(size * x, size * y + size, size * x + size / 2, size * y +  + size - size / 4);\n                                p.line(size * x + size, size * y + size, size * x + size / 2, size * y + size - size / 4);\n                                \n                            }\n                            \n                            if(cellPattern === 'split-circles') {\n                                p.noFill();\n                                p.arc(\n                                    size * x, \n                                    size * y + size / 2, \n                                    size, \n                                    size, \n                                    -p.PI / 2, \n                                    p.PI / 2\n                                );\n                                p.arc(\n                                    size * x + size, \n                                    size * y + size / 2, \n                                    size, \n                                    size, \n                                    p.PI / 2, \n                                    p.PI + p.PI / 2\n                                );\n                            }\n                        });\n                    },\n                    (delay * i)\n                );\n                \n            }\n        }\n\n        p.cells = [];\n\n        p.generateCells = () => {\n            let loopIndex = 1;\n            for (let i = 1; i < 64; i++) {\n                for (let x = -i; x < i; x++) {\n                    for (let y = -i; y < i; y++) {\n\n                        const key = x + '-' + y;\n                        if (! p.cells.some(r => r.key === key)) {\n                            p.cells.push(\n                                {\n                                    key: key,\n                                    x: x,\n                                    y: y,\n                                    loopIndex: loopIndex\n                                }\n                            );\n                        }\n                        \n                    }\n                }\n                loopIndex++;\n            }\n            SaveJSONToFile(p.cells, 'grid.json');\n        }\n\n        p.hasStarted = false;\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                        if (typeof window.dataLayer !== typeof undefined){\n                            window.dataLayer.push(\n                                { \n                                    'event': 'play-animation',\n                                    'animation': {\n                                        'title': document.title,\n                                        'location': window.location.href,\n                                        'action': 'replaying'\n                                    }\n                                }\n                            );\n                        }\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                    if (typeof window.dataLayer !== typeof undefined && !p.hasStarted){\n                        window.dataLayer.push(\n                            { \n                                'event': 'play-animation',\n                                'animation': {\n                                    'title': document.title,\n                                    'location': window.location.href,\n                                    'action': 'start playing'\n                                }\n                            }\n                        );\n                        p.hasStarted = false\n                    }\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}